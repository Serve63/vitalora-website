<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personeel Dashboard</title>
  <link rel="stylesheet" href="styles.css?v=2" />
  <link rel="stylesheet" href="/assets/css/header.css?v=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/fonts.css?v=12">
  <style>
    :root{--brand:#3A9AEA;--ink:#0f172a;--muted:#64748b}
    body{background:#f3f6fb}
    .app{display:grid;grid-template-columns:240px 1fr;min-height:calc(100vh - 64px)}
    
    .sidenav{background:#ffffff;border-right:1px solid #e5e7eb;padding:22px 16px}
    .sidenav h4{font-size:12px;color:#94a3b8;text-transform:uppercase;letter-spacing:.14em;margin-bottom:10px}

    .navlist{display:flex;flex-direction:column;gap:6px}
    .navlist a{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:10px;color:#334155;text-decoration:none;font-weight:600}

    .navlist a.active,.navlist a:hover{background:#eef7fe;color:#1d4ed8}

    .content{padding:26px}
    .heading{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
    .heading h1{margin:0;color:#333}
    .muted{color:var(--muted);font-size:14px}

    .kpi-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px;margin:18px 0 24px}
    .kpi{grid-column:span 3;background:linear-gradient(180deg,#ffffff, #f6f9fe);border:1px solid #e6edf7;border-radius:16px;box-shadow:0 10px 26px rgba(15,23,42,.06), inset 0 1px 0 #fff;padding:18px}

    .kpi h3{margin:0 0 8px;color:#334155;font-weight:700}
    .kpi .val{font-size:30px;font-weight:800;color:var(--ink)}
    .kpi .sub{font-size:12px;color:#94a3b8;margin-top:4px}

    .card{background:#fff;border:1px solid #e6edf7;border-radius:16px;box-shadow:0 10px 24px rgba(15,23,42,.06), inset 0 1px 0 #fff;padding:20px}

    .card h3{margin:0 0 10px;color:#333}
    table{width:100%;border-collapse:collapse}
    th,td{padding:12px 10px;border-bottom:1px solid #eef2f7;text-align:left;font-size:14px}
    th{color:#64748b;font-weight:700}

    @media(max-width:1024px){.kpi{grid-column:span 6}}
    @media(max-width:768px){.app{grid-template-columns:1fr}.sidenav{display:none}.kpi{grid-column:span 12}}
    
    /* Blog Editor Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    .modal-content {
      background: white;
      border-radius: 12px;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
    }
    
    .modal-header {
      padding: 24px 24px 0;
      border-bottom: 1px solid #e5e7eb;
      margin-bottom: 24px;
    }
    
    .modal-title {
      font-size: 24px;
      font-weight: 700;
      color: #1f2937;
      margin: 0 0 16px 0;
    }
    
    .modal-body {
      padding: 0 24px 24px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      font-weight: 600;
      color: #374151;
      margin-bottom: 8px;
    }
    
    .form-input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 14px;
      box-sizing: border-box;
    }
    
    .form-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .form-row {
      display: flex;
      gap: 16px;
      align-items: end;
    }
    
    .form-row .form-group {
      flex: 1;
    }
    
    .btn-secondary {
      background: #6b7280;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .btn-secondary:hover {
      background: #4b5563;
    }
    
    .editor-toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      padding: 12px;
      background: #f9fafb;
      border: 1px solid #d1d5db;
      border-bottom: none;
      border-radius: 8px 8px 0 0;
    }
    
    .toolbar-btn {
      width: 32px;
      height: 32px;
      border: none;
      background: transparent;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #6b7280;
    }
    
    .toolbar-btn:hover {
      background: #e5e7eb;
    }
    
    .toolbar-btn.active {
      background: #10b981;
      color: white;
    }
    
    .editor-content {
      width: 100%;
      min-height: 300px;
      padding: 16px;
      border: 1px solid #d1d5db;
      border-radius: 0 0 8px 8px;
      font-family: inherit;
      font-size: 14px;
      line-height: 1.5;
      resize: vertical;
      box-sizing: border-box;
    }
    
    .modal-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      padding: 24px;
      border-top: 1px solid #e5e7eb;
    }
    
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      font-size: 14px;
    }
    
    .btn-primary {
      background: #3b82f6;
      color: white;
    }
    
    .btn-primary:hover {
      background: #2563eb;
    }
    
    .btn-outline {
      background: transparent;
      color: #6b7280;
      border: 1px solid #d1d5db;
    }
    
    .btn-outline:hover {
      background: #f9fafb;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <a class="logo" href="/">
        <span class="logo-text">Vitalora.nl</span>
      </a>
      
      <div class="header-buttons">
        <!-- Header buttons removed for dashboard -->
      </div>
    </div>
  </header>

  <div class="app">
    <aside class="sidenav">
      <h4>Menu</h4>
      <nav class="navlist">
        <a class="active" href="#">Overzicht</a>
        <a href="#">Klanten</a>
      </nav>
    </aside>

    <main class="content">
      <div class="heading">
        <h1>Personeel Dashboard</h1>
        <span class="muted">Demo weergave — koppelbaar aan echte data</span>
      </div>

      <section class="kpi-grid">
        <div class="kpi"><h3>Alltime omzet</h3><div class="val">€ 47.892,50</div><div class="sub">sinds oprichting</div></div>

        <div class="kpi"><h3>Omzet dit jaar</h3><div class="val">€ 12.456,30</div><div class="sub">+23% vs. vorig jaar</div></div>

        <div class="kpi"><h3>Omzet deze maand</h3><div class="val">€ 3.942,10</div><div class="sub">+7% vs. vorige maand</div></div>

        <div class="kpi"><h3>Omzet vandaag</h3><div class="val">€ 124,80</div><div class="sub">+12% vs. gisteren</div></div>

      </section>

      <section id="blogs" class="card">
        <h3>Blogbeheer <span id="add-blog-btn" style="color: #10b981; font-weight: bold; cursor: pointer;">+</span></h3>
        <p class="muted">Klik op een item om het bronbestand te openen. CMS-koppeling kan later toegevoegd worden.</p>

        <table>
          <thead><tr><th>Titel</th><th>Status</th></tr></thead>
          <tbody>
          </tbody>
        </table>
      </section>

    </main>
  </div>

  <!-- Blog Editor Modal -->
  <div id="blog-modal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Blog post content</h2>
      </div>
      
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Title</label>
          <input type="text" class="form-input" id="blog-title" placeholder="Enter blog title">
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">URL</label>
            <input type="text" class="form-input" id="blog-slug" placeholder="blog-url">
          </div>
          <div class="form-group">
            <label class="form-label">Revisions</label>
            <select class="form-input" id="blog-revisions">
              <option>Show revisions</option>
            </select>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label">Meta Title</label>
          <input type="text" class="form-input" id="blog-meta-title" placeholder="SEO title for search engines">
        </div>
        
        <div class="form-group">
          <label class="form-label">Meta Description</label>
          <textarea class="form-input" id="blog-meta-description" rows="3" placeholder="SEO description for search engines (max 160 characters)"></textarea>
        </div>
        
        <div class="form-group">
          <label class="form-label">Content</label>
          <div class="editor-toolbar">
            <button class="toolbar-btn" title="Bold">B</button>
            <button class="toolbar-btn" title="Italic">I</button>
            <button class="toolbar-btn" title="Underline">U</button>
            <button class="toolbar-btn" title="Normal Text">P</button>
            <button class="toolbar-btn" title="Heading 1">H1</button>
            <button class="toolbar-btn" title="Heading 2">H2</button>
            <button class="toolbar-btn" title="Heading 3">H3</button>
            <button class="toolbar-btn" title="Heading 4">H4</button>
            <button class="toolbar-btn" title="Quote">"</button>
          </div>
          <textarea class="editor-content" id="blog-content" placeholder="Start writing your blog post..."></textarea>
        </div>
      </div>
      
      <div class="modal-actions">
        <button class="btn btn-outline" id="cancel-blog">Cancel</button>
        <button class="btn btn-primary" id="save-blog">Save</button>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const key='staff_access_ok';
      if(localStorage.getItem(key)!=='1'){ window.location.href='/personeel'; return; }
      
      // Blog modal functionality
      const addBlogBtn = document.getElementById('add-blog-btn');
      const blogModal = document.getElementById('blog-modal');
      const cancelBtn = document.getElementById('cancel-blog');
      const saveBtn = document.getElementById('save-blog');
      const blogTitle = document.getElementById('blog-title');
      const blogSlug = document.getElementById('blog-slug');
      const blogMetaTitle = document.getElementById('blog-meta-title');
      const blogMetaDescription = document.getElementById('blog-meta-description');
      const blogContent = document.getElementById('blog-content');
      
      // Open modal
      addBlogBtn.addEventListener('click', function() {
        blogModal.style.display = 'flex';
        blogTitle.focus();
      });
      
      // Close modal
      function closeModal() {
        blogModal.style.display = 'none';
        // Clear form
        blogTitle.value = '';
        blogSlug.value = '';
        blogMetaTitle.value = '';
        blogMetaDescription.value = '';
        blogContent.value = '';
      }
      
      cancelBtn.addEventListener('click', closeModal);
      
      // Close on overlay click
      blogModal.addEventListener('click', function(e) {
        if (e.target === blogModal) {
          closeModal();
        }
      });
      
      // Auto-generate URL from title
      blogTitle.addEventListener('input', function() {
        const slug = this.value
          .toLowerCase()
          .replace(/[^a-z0-9\s-]/g, '')
          .replace(/\s+/g, '-')
          .replace(/-+/g, '-')
          .trim('-');
        blogSlug.value = slug;
        
        // Auto-fill meta title if empty
        if (!blogMetaTitle.value) {
          blogMetaTitle.value = this.value;
        }
      });
      
      // Save blog (placeholder functionality)
      saveBtn.addEventListener('click', function() {
        const title = blogTitle.value.trim();
        const slug = blogSlug.value.trim();
        const metaTitle = blogMetaTitle.value.trim();
        const metaDescription = blogMetaDescription.value.trim();
        const content = blogContent.value.trim();
        
        if (!title || !content) {
          alert('Please fill in title and content');
          return;
        }
        
        // Here you would typically save to backend
        console.log('Saving blog:', { title, slug, metaTitle, metaDescription, content });
        alert('Blog saved successfully!');
        closeModal();
      });
      
      // Toolbar functionality
      document.querySelectorAll('.toolbar-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const command = this.title.toLowerCase();
          const textarea = blogContent;
          const start = textarea.selectionStart;
          const end = textarea.selectionEnd;
          const selectedText = textarea.value.substring(start, end);
          const beforeText = textarea.value.substring(0, start);
          const afterText = textarea.value.substring(end);
          
          let newText = '';
          
          switch(command) {
            case 'bold':
              newText = beforeText + '**' + selectedText + '**' + afterText;
              break;
            case 'italic':
              newText = beforeText + '*' + selectedText + '*' + afterText;
              break;
            case 'underline':
              newText = beforeText + '<u>' + selectedText + '</u>' + afterText;
              break;
            case 'normal text':
              newText = beforeText + selectedText + afterText;
              break;
            case 'heading 1':
              newText = beforeText + '# ' + selectedText + afterText;
              break;
            case 'heading 2':
              newText = beforeText + '## ' + selectedText + afterText;
              break;
            case 'heading 3':
              newText = beforeText + '### ' + selectedText + afterText;
              break;
            case 'heading 4':
              newText = beforeText + '#### ' + selectedText + afterText;
              break;
            case 'quote':
              newText = beforeText + '> ' + selectedText + afterText;
              break;
          }
          
          textarea.value = newText;
          textarea.focus();
          
          // Set cursor position after the inserted text
          const newCursorPos = start + (newText.length - textarea.value.length + (newText.length - beforeText.length - afterText.length));
          textarea.setSelectionRange(newCursorPos, newCursorPos);
        });
      });
      
    })();
  </script>
</body>
</html>