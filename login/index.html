<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#23469D">
    <title>Inloggen - Vitalora Academy</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/fonts.css?v=5">
    <style>
        body {font-family:'Blender','Quicksand',sans-serif;background:#23469D;min-height:100vh;margin:0;overflow:hidden}
        .login-gate{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:40px 20px}
        .login-container{max-width:420px;width:100%;background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:20px;box-shadow:0 20px 50px rgba(0,0,0,0.3);padding:40px;border:none;text-align:center}
        .logo{margin-bottom:30px}
        .logo-text{font-size:28px;font-weight:700;color:#2954B3;text-decoration:none}
        h1{color:#333;font-size:24px;margin-bottom:10px;font-weight:600}
        .subtitle{color:#666;font-size:16px;margin-bottom:30px}
        .form-group{margin-bottom:20px;text-align:left}
        label{display:block;color:#333;font-weight:500;margin-bottom:8px;font-size:14px}
        .pin-container{display:flex;gap:10px;justify-content:center;margin-bottom:20px;margin-top:-6px}
        .pin-input{width:46px;height:46px;border:2px solid #e5e7eb;border-radius:10px;text-align:center;font-size:20px;font-weight:700;color:#333;background:#fff;transition:border-color .3s ease, box-shadow .3s ease}
        @media (max-width:768px){
            .pin-container{gap:6px;margin-bottom:16px}
            .pin-input{width:38px;height:38px;font-size:16px}
            .login-container{padding:30px 20px}
            .logo{margin-bottom:20px}
            .logo-text{font-size:24px}
            h1{font-size:20px;margin-bottom:8px}
            .subtitle{font-size:14px;margin-bottom:20px}
            .login-btn{padding:12px 16px;font-size:14px;margin-bottom:16px}
            .back-link{font-size:13px}
        }
        @media (max-width:480px){
            .pin-container{gap:4px;margin-bottom:12px}
            .pin-input{width:34px;height:34px;font-size:14px}
            .login-container{padding:24px 16px}
            .logo{margin-bottom:16px}
            .logo-text{font-size:22px}
            h1{font-size:18px;margin-bottom:6px}
            .subtitle{font-size:13px;margin-bottom:16px}
            .login-btn{padding:10px 14px;font-size:13px;margin-bottom:12px}
            .back-link{font-size:12px}
        }
        .pin-input:focus{outline:none;border-color:#2954B3;box-shadow:0 0 0 3px rgba(41,84,179,0.12)}
        .pin-input.filled{border-color:#2954B3;background:#f8fafc}
        .login-btn{width:100%;background:linear-gradient(135deg,#2954B3 0%,#1e3a8a 100%);color:#fff;border:none;padding:14px 20px;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;margin-bottom:20px}
        .login-btn:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(41,84,179,.3)}
        .login-btn:disabled{opacity:.6;cursor:not-allowed;transform:none}
        .error-message{color:#dc2626;font-size:14px;margin-top:10px;display:none}
        .back-link{color:#666;text-decoration:none;font-size:14px;transition:color .3s ease}
        .back-link:hover{color:#2954B3}
        .loading{display:none;margin-left:10px}
        .spinner{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid #fff;border-radius:50%;animation:spin 1s linear infinite}
        @keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
    </style>
    <script>
      // Ensure canonical points to /login (not /login.html)
      (function(){
        var link=document.createElement('link');link.rel='canonical';link.href=location.origin+'/login';document.head.appendChild(link);
      })();
    </script>
<link rel="icon" type="image/webp" href="/assets/images/vitalora logo.webp">
<link rel="shortcut icon" type="image/webp" href="/assets/images/vitalora logo.webp">
</head>
<body>
    <main class="login-gate">
        <div class="login-container">
        <div class="logo"><a href="/" class="logo-text">Vitalora.nl</a></div>
        <h1>Welkom bij de Academy</h1>
        <p class="subtitle">Voer je toegangscode in om verder te gaan</p>
        <form id="loginForm">
            <div class="form-group">
                <label>Toegangscode</label>
                <div class="pin-container">
                    <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
                    <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
                    <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
                    <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
                    <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
                    <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
                </div>
            </div>
            <button type="submit" class="login-btn" id="loginBtn">Inloggen <span class="loading" id="loading"><div class="spinner"></div></span></button>
            <div class="error-message" id="errorMessage">Onjuiste toegangscode. Probeer het opnieuw.</div>
        </form>
        <a href="/" class="back-link">‚Üê Terug naar homepage</a>
        </div>
    </main>
    <script>
      (function(){
        const pinInputs = document.querySelectorAll('.pin-input');
        const enterButton = document.getElementById('loginBtn');
        const errorDiv = document.getElementById('errorMessage');
        const loading = document.getElementById('loading');
        
        // Auto-focus first input
        pinInputs[0].focus();
        
        // Handle input in each PIN field
        pinInputs.forEach((input, index) => {
          input.addEventListener('input', function(e) {
            // Only allow numbers
            this.value = this.value.replace(/[^0-9]/g, '');
            
            // Move to next input if current is filled
            if (this.value && index < pinInputs.length - 1) {
              pinInputs[index + 1].focus();
            }
          });
          
          input.addEventListener('keydown', function(e) {
            // Handle backspace
            if (e.key === 'Backspace' && !this.value && index > 0) {
              pinInputs[index - 1].focus();
            }
            
            // Handle enter key
            if (e.key === 'Enter') {
              enterButton.click();
            }
          });
          
          input.addEventListener('paste', function(e) {
            e.preventDefault();
            const pastedData = e.clipboardData.getData('text').replace(/[^0-9]/g, '');
            for (let i = 0; i < Math.min(pastedData.length, pinInputs.length); i++) {
              pinInputs[i].value = pastedData[i];
            }
            // Focus last filled input or last input
            const lastFilledIndex = Math.min(pastedData.length - 1, pinInputs.length - 1);
            pinInputs[lastFilledIndex].focus();
          });
        });
        
        enterButton.addEventListener('click', function(e){
          e.preventDefault();
          const code = Array.from(pinInputs).map(input => input.value).join('');
          if(code === '058267') {
            try { sessionStorage.setItem('academySession','ok'); } catch(e){}
            window.location.href='/academy';
          } else {
            errorDiv.style.display='block';
            // Clear all inputs and focus first
            pinInputs.forEach(input => input.value = '');
            pinInputs[0].focus();
          }
        });
        
        // No persistent login - users must login every time
      })();
    </script>
</body>
</html>


