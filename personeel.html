<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personeel Login</title>
  <link rel="stylesheet" href="styles.css?v=2" />
  <link rel="stylesheet" href="/assets/css/header.css?v=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/fonts.css?v=12">
  <style>
    body{font-family:'Blender','Quicksand',sans-serif;background:linear-gradient(135deg,#2954B3 0%,#1e3a8a 100%);min-height:100vh;margin:0}
    .staff-gate{min-height:calc(100vh - 64px);display:flex;align-items:center;justify-content:center;padding:40px 20px}
    .staff-card{max-width:420px;width:100%;background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:20px;box-shadow:0 20px 50px rgba(0,0,0,0.3);padding:40px;border:none}
    .staff-card h1{font-size:24px;margin-bottom:10px;color:#333;font-weight:600}
    .staff-card p{color:#666;margin-bottom:24px;font-size:16px}
    .pin-container{display:flex;gap:10px;justify-content:center;margin-bottom:20px;margin-top:-6px}
    .pin-input{width:46px;height:46px;border:2px solid #e5e7eb;border-radius:10px;text-align:center;font-size:20px;font-weight:700;color:#333;background:#fff;transition:border-color .3s ease, box-shadow .3s ease}
    .pin-input:focus{outline:none;border-color:#2954B3;box-shadow:0 0 0 3px rgba(41,84,179,0.12)}
    .pin-input.filled{border-color:#2954B3;background:#f8fafc}
    .staff-card button{width:100%;background:linear-gradient(135deg,#2954B3 0%,#1e3a8a 100%);color:#fff;border:0;border-radius:10px;padding:14px 16px;font-weight:700;cursor:pointer;transition:transform .2s ease, box-shadow .2s ease}
    .staff-card button:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(41,84,179,0.3)}
    .staff-card button:active{transform:none}
    .staff-error{color:#ef4444;min-height:18px;margin-bottom:8px;text-align:center}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <a class="logo" href="/">
        <span class="logo-text">Vitalora.nl</span>
      </a>
      
      <div class="header-buttons">
        <!-- Inloggen button removed for this page only -->
      </div>
    </div>
  </header>

  <main class="staff-gate">
    <div class="staff-card">
      <h1>Personeel</h1>
      <p>Voer de personeelscode in om naar het interne dashboard te gaan.</p>
      <div id="err" class="staff-error"></div>
      <div class="pin-container">
        <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
        <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
        <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
        <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
        <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
        <input type="text" class="pin-input" maxlength="1" inputmode="numeric" />
      </div>
      <button id="enter">Naar dashboard</button>
    </div>
  </main>

  <script>
    (function(){
      const pinInputs = document.querySelectorAll('.pin-input');
      const enterButton = document.getElementById('enter');
      const errorDiv = document.getElementById('err');
      
      // Auto-focus first input
      pinInputs[0].focus();
      
      // Handle input in each PIN field
      pinInputs.forEach((input, index) => {
        input.addEventListener('input', function(e) {
          // Only allow numbers
          this.value = this.value.replace(/[^0-9]/g, '');
          
          // Move to next input if current is filled
          if (this.value && index < pinInputs.length - 1) {
            pinInputs[index + 1].focus();
          }
        });
        
        input.addEventListener('keydown', function(e) {
          // Handle backspace
          if (e.key === 'Backspace' && !this.value && index > 0) {
            pinInputs[index - 1].focus();
          }
          
          // Handle enter key
          if (e.key === 'Enter') {
            enterButton.click();
          }
        });
        
        input.addEventListener('paste', function(e) {
          e.preventDefault();
          const pastedData = e.clipboardData.getData('text').replace(/[^0-9]/g, '');
          for (let i = 0; i < Math.min(pastedData.length, pinInputs.length); i++) {
            pinInputs[i].value = pastedData[i];
          }
          // Focus last filled input or last input
          const lastFilledIndex = Math.min(pastedData.length - 1, pinInputs.length - 1);
          pinInputs[lastFilledIndex].focus();
        });
      });
      
      enterButton.addEventListener('click', function(){
        const code = Array.from(pinInputs).map(input => input.value).join('');
        if(code === '000000') {
          localStorage.setItem('staff_access_ok','1');
          window.location.href = '/personeel-dashboard';
        } else {
          errorDiv.textContent = 'Ongeldige code.';
          // Clear all inputs and focus first
          pinInputs.forEach(input => input.value = '');
          pinInputs[0].focus();
        }
      });
    })();
  </script>
</body>
</html>